<!doctype html>
<html class="two-columns">
<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width">
  
  <title>Ruuvi Datasheets Documentation | RuuviTracker shields and kits</title>
  
  <!-- Spark theme mods -->
  <link href='/assets/css/style.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://s3.amazonaws.com/icomoon.io/49057/Dashboard/style.css?9t9e91">
  
  <!-- GOTHAM YO -->
  <link rel="stylesheet" type="text/css" href="//cloud.typography.com/6107112/665726/css/fonts.css" />
  
  <!-- Meta -->
  <meta content="Ruuvi" property="og:title">
  <meta content="Documentation for Ruuvi, a platform for connected devices." name="description">
  
  <!-- Favicon -->
  <link rel="shortcut icon" href="/assets/favicon2.ico" type="image/x-icon" />
</head>
<body role='flatdoc'>
  <div id="docs" data-level>
    <div class='header'>
      <div class='left'>
        <div class="toggle-nav">
          <a href="#" class="subnav-link toggle-navigation">
            <i class="ion-navicon" title="show/hide the navigation"></i>
          </a>
        </div>
        <a href="http://www.ruuvi.com">
          <img src="/assets/images/ruuvi_logo.png" id="logo">
        </a>
        <div class="sections">
          <a class="nav " href="/guide">Guide</a>
          <a class="nav active" href="/datasheets">Datasheets</a>
        </div>
        <div class="dropdown mobile-only">
          <a id="dLabel" data-target="#" class="nav" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
            Datasheets
            <i class="icon ion-chevron-down"></i>
          </a>
          <ul class="dropdown-menu" aria-labelledby="dLabel">
            <li><a href="/guide">Guide</a></li>
            <li><a href="/datasheets">Datasheets</a></li>
          </ul>
        </div>
        <div class="search">
          <div class="search-input-wrapper">
            <i class="ion-search"></i>
            <input class="search-box" type="text" placeholder="Search" value=""/>
          </div>
          <div class="search-results">
          </div>
        </div>
      </div>
      <div class='right'>
        <a href='https://github.com/ruuvi/ruuvi.github.io/tree/layout/src/content/datasheets/ruuvitracker-shields.md' class="nav" target="_blank"><i class="ion-edit"></i>Edit</a>
      </div>
    </div>

    <div class='content-root'>
      <div class='menubar'>

      <ul class="nav reference">
            <ul>
              <li class="top-level ">
                  <a href="/datasheets/kits">Ruuvi Kits Overview</a>
              </li>
            </ul>
            <ul>
              <li class="top-level ">
                  <a href="/datasheets/ruuvitracker-datasheet">RuuviTracker datasheet</a>
              </li>
            </ul>
            <ul>
              <li class="top-level active">
                  <span>RuuviTracker shields and kits</span>
                    <i id="toggle-in-page-nav" class="ion-plus"></i>
              </li>
                    <div class="in-page-toc-container">
                      <ul class="nav in-page-toc hide">
                        <li class="middle-level" data-nav="shield-shield-3Oeh"><i class="toggle-secondary-toc ion-arrow-right-b"></i><a href="#shield-shield" data-menu-href="shield-shield-3Oeh">Shield Shield</a></li>
                          <ul class="nav secondary-in-page-toc">
                              <li data-secondary-nav="operation-Pwip"><a href="#operation" data-menu-href="operation-Pwip">Operation</a></li>
                              <li data-secondary-nav="specifications-sHU9"><a href="#specifications" data-menu-href="specifications-sHU9">Specifications</a></li>
                              <li data-secondary-nav="pin-mapping-Gk6c"><a href="#pin-mapping" data-menu-href="pin-mapping-Gk6c">Pin mapping</a></li>
                          </ul>
                        <li class="middle-level" data-nav="relay-shield-JV4G"><i class="toggle-secondary-toc ion-arrow-right-b"></i><a href="#relay-shield" data-menu-href="relay-shield-JV4G">Relay Shield</a></li>
                          <ul class="nav secondary-in-page-toc">
                              <li data-secondary-nav="operation-SM6E"><a href="#operation" data-menu-href="operation-SM6E">Operation</a></li>
                              <li data-secondary-nav="specifications-dPC0"><a href="#specifications" data-menu-href="specifications-dPC0">Specifications</a></li>
                              <li data-secondary-nav="setting-up-the-relay-shield-cWiE"><a href="#setting-up-the-relay-shield" data-menu-href="setting-up-the-relay-shield-cWiE">Setting up the Relay Shield</a></li>
                          </ul>
                        <li class="middle-level" data-nav="programmer-shield-jtag--je0r"><i class="toggle-secondary-toc ion-arrow-right-b"></i><a href="#programmer-shield-jtag-" data-menu-href="programmer-shield-jtag--je0r">Programmer Shield (JTAG)</a></li>
                          <ul class="nav secondary-in-page-toc">
                              <li data-secondary-nav="specifications-xhQP"><a href="#specifications" data-menu-href="specifications-xhQP">Specifications</a></li>
                              <li data-secondary-nav="setting-up-the-programmer-6eSn"><a href="#setting-up-the-programmer" data-menu-href="setting-up-the-programmer-6eSn">Setting up the programmer</a></li>
                          </ul>
                        <li class="middle-level" data-nav="battery-shield-3Cez"><i class="toggle-secondary-toc ion-arrow-right-b"></i><a href="#battery-shield" data-menu-href="battery-shield-3Cez">Battery Shield</a></li>
                          <ul class="nav secondary-in-page-toc">
                              <li data-secondary-nav="operation-6LKz"><a href="#operation" data-menu-href="operation-6LKz">Operation</a></li>
                              <li data-secondary-nav="specifications-fMuh"><a href="#specifications" data-menu-href="specifications-fMuh">Specifications</a></li>
                              <li data-secondary-nav="setting-up-the-shield-EyzD"><a href="#setting-up-the-shield" data-menu-href="setting-up-the-shield-EyzD">Setting up the shield</a></li>
                          </ul>
                        <li class="middle-level" data-nav="spark-maker-kit-PalI"><i class="toggle-secondary-toc ion-arrow-right-b"></i><a href="#spark-maker-kit" data-menu-href="spark-maker-kit-PalI">Spark Maker Kit</a></li>
                          <ul class="nav secondary-in-page-toc">
                              <li data-secondary-nav="1-ceramic-capacitors-10-each--uN8q"><a href="#1-ceramic-capacitors-10-each-" data-menu-href="1-ceramic-capacitors-10-each--uN8q">1. Ceramic Capacitors (10 each)</a></li>
                              <li data-secondary-nav="2-electrolytic-capacitor-100uf-5--DTZv"><a href="#2-electrolytic-capacitor-100uf-5-" data-menu-href="2-electrolytic-capacitor-100uf-5--DTZv">2. Electrolytic Capacitor 100uF (5)</a></li>
                              <li data-secondary-nav="3-headers-GIHV"><a href="#3-headers" data-menu-href="3-headers-GIHV">3. Headers</a></li>
                              <li data-secondary-nav="4-leds-Chci"><a href="#4-leds" data-menu-href="4-leds-Chci">4. LEDs</a></li>
                              <li data-secondary-nav="5-rgb-led-1--5ebx"><a href="#5-rgb-led-1-" data-menu-href="5-rgb-led-1--5ebx">5. RGB LED (1)</a></li>
                              <li data-secondary-nav="6-npn-transistor-1--d7A7"><a href="#6-npn-transistor-1-" data-menu-href="6-npn-transistor-1--d7A7">6. NPN Transistor (1)</a></li>
                              <li data-secondary-nav="7-diode-6--46sO"><a href="#7-diode-6-" data-menu-href="7-diode-6--46sO">7. Diode (6)</a></li>
                              <li data-secondary-nav="8-micro-servo-1--cINt"><a href="#8-micro-servo-1-" data-menu-href="8-micro-servo-1--cINt">8. Micro Servo (1)</a></li>
                              <li data-secondary-nav="9-deluxe-jumper-wire-pack-1--Fdrz"><a href="#9-deluxe-jumper-wire-pack-1-" data-menu-href="9-deluxe-jumper-wire-pack-1--Fdrz">9. Deluxe Jumper Wire Pack (1)</a></li>
                              <li data-secondary-nav="10-usb-micro-b-cable-1--tzPQ"><a href="#10-usb-micro-b-cable-1-" data-menu-href="10-usb-micro-b-cable-1--tzPQ">10. USB Micro B Cable (1)</a></li>
                              <li data-secondary-nav="11-mini-dc-motor-1--EQkh"><a href="#11-mini-dc-motor-1-" data-menu-href="11-mini-dc-motor-1--EQkh">11. Mini DC Motor (1)</a></li>
                              <li data-secondary-nav="12-vibration-motor-1--pzy0"><a href="#12-vibration-motor-1-" data-menu-href="12-vibration-motor-1--pzy0">12. Vibration Motor (1)</a></li>
                              <li data-secondary-nav="13-piezo-buzzer-1--h9kQ"><a href="#13-piezo-buzzer-1-" data-menu-href="13-piezo-buzzer-1--h9kQ">13. Piezo Buzzer (1)</a></li>
                              <li data-secondary-nav="14-mini-pushbuttons-3--O0AI"><a href="#14-mini-pushbuttons-3-" data-menu-href="14-mini-pushbuttons-3--O0AI">14. Mini Pushbuttons (3)</a></li>
                              <li data-secondary-nav="15-dpdt-switch-2--5Lbr"><a href="#15-dpdt-switch-2-" data-menu-href="15-dpdt-switch-2--5Lbr">15. DPDT Switch (2)</a></li>
                              <li data-secondary-nav="16-shift-register-ic-1--ZhRU"><a href="#16-shift-register-ic-1-" data-menu-href="16-shift-register-ic-1--ZhRU">16. Shift Register IC (1)</a></li>
                              <li data-secondary-nav="17-tilt-sensor-2--iykT"><a href="#17-tilt-sensor-2-" data-menu-href="17-tilt-sensor-2--iykT">17. Tilt Sensor (2)</a></li>
                              <li data-secondary-nav="18-temperature-sensor-1--KnmL"><a href="#18-temperature-sensor-1-" data-menu-href="18-temperature-sensor-1--KnmL">18. Temperature Sensor (1)</a></li>
                              <li data-secondary-nav="19-thermistor-2--7QhM"><a href="#19-thermistor-2-" data-menu-href="19-thermistor-2--7QhM">19. Thermistor (2)</a></li>
                              <li data-secondary-nav="20-force-sensitive-resistor-1--FgvN"><a href="#20-force-sensitive-resistor-1-" data-menu-href="20-force-sensitive-resistor-1--FgvN">20. Force-Sensitive Resistor (1)</a></li>
                              <li data-secondary-nav="21-photo-resistors-2--QPCn"><a href="#21-photo-resistors-2-" data-menu-href="21-photo-resistors-2--QPCn">21. Photo Resistors (2)</a></li>
                              <li data-secondary-nav="22-resistors-KPnk"><a href="#22-resistors" data-menu-href="22-resistors-KPnk">22. Resistors</a></li>
                              <li data-secondary-nav="23-rotary-potentiometer-1--EmqJ"><a href="#23-rotary-potentiometer-1-" data-menu-href="23-rotary-potentiometer-1--EmqJ">23. Rotary Potentiometer (1)</a></li>
                              <li data-secondary-nav="24-proto-board-1--OIti"><a href="#24-proto-board-1-" data-menu-href="24-proto-board-1--OIti">24. Proto-board (1)</a></li>
                              <li data-secondary-nav="25-spark-ruuvitracker-u-fl-or-ca-1--FOXq"><a href="#25-spark-ruuvitracker-u-fl-or-ca-1-" data-menu-href="25-spark-ruuvitracker-u-fl-or-ca-1--FOXq">25. Spark RuuviTracker - u.FL or CA (1)</a></li>
                          </ul>
                        <li class="middle-level" data-nav="spark-rc-car-kit-V9tm"><i class="toggle-secondary-toc ion-arrow-right-b"></i><a href="#spark-rc-car-kit" data-menu-href="spark-rc-car-kit-V9tm">Spark RC Car Kit</a></li>
                          <ul class="nav secondary-in-page-toc">
                              <li data-secondary-nav="kit-contents-O8Yz"><a href="#kit-contents" data-menu-href="kit-contents-O8Yz">Kit Contents</a></li>
                              <li data-secondary-nav="example-code-aUNM"><a href="#example-code" data-menu-href="example-code-aUNM">Example code</a></li>
                              <li data-secondary-nav="motor-driver-shield-specifications-1uX1"><a href="#motor-driver-shield-specifications" data-menu-href="motor-driver-shield-specifications-1uX1">Motor Driver Shield Specifications</a></li>
                              <li data-secondary-nav="datasheets-OOEb"><a href="#datasheets" data-menu-href="datasheets-OOEb">Datasheets</a></li>
                          </ul>
                      </ul>
                    </div>
            </ul>
            <ul>
              <li class="top-level ">
                  <a href="/datasheets/photon-datasheet">RuuviTag datasheet</a>
              </li>
            </ul>
            <ul>
              <li class="top-level ">
                  <a href="/datasheets/p1-datasheet">P1 datasheet</a>
              </li>
            </ul>
            <ul>
              <li class="top-level ">
                  <a href="/datasheets/photon-shields">RuuviTag shields and kits</a>
              </li>
            </ul>
      </ul>
      </div>
      <div class="page-body">
        <div class='content-inner'>
          <div class="content" >
            <h1 id="#shields-and-accessories" data-href="shields-and-accessories-eG7G">Shields and accessories<a href="#shields-and-accessories" class="header-permalinks" data-menu-href="shields-and-accessories-eG7G"><i class="ion-link"></i></a></h1><h2 id="#shield-shield" data-href="shield-shield-3Oeh">Shield Shield<a href="#shield-shield" class="header-permalinks" data-menu-href="shield-shield-3Oeh"><i class="ion-link"></i></a></h2><p>This shield is essentially an adapter that allows the user to connect Arduino compatible shields to the Spark RuuviTracker. There are two functions that this shield performs: pin mapping of the Spark Core to the Arduino pin layout and voltage translation of 3.3V to/from 5V.</p>
<h3 id="#operation" data-href="operation-Pwip">Operation<a href="#operation" class="header-permalinks" data-menu-href="operation-Pwip"><i class="ion-link"></i></a></h3><p><img src="/assets/images/sshield-top.jpg" alt="Shield Shield"></p>
<p>We use Texas Instruments <a href="http://www.ti.com/lit/ds/symlink/txb0108.pdf">TXB0108PWR</a> to do the voltage translation in between Spark RuuviTracker's 3.3V logic level and Arduino's 5V logic.</p>
<p>Due to the limited number of pin to function combinations, we have only mapped three analog channels to the Arduino footprint labeled <code>A0</code>, <code>A1</code> and <code>A2</code>. Unlike other IO pins, the analog pins are rated at only a max of 3.3V and NOT 5.0V. <strong>Please remember NOT to exceed this voltage at anytime.</strong></p>
<p>The shield has an onboard voltage regulator and can be powered from 7V to 15V DC. You could also power it via the USB plug on the Spark RuuviTracker alone but the current would be limited to 500mA.</p>
<h3 id="#specifications" data-href="specifications-sHU9">Specifications<a href="#specifications" class="header-permalinks" data-menu-href="specifications-sHU9"><i class="ion-link"></i></a></h3><p><img src="/assets/images/sshield-setup.jpg" alt="Shield Shield Setup"></p>
<ul>
<li>Operating voltage: 7 to 15V DC</li>
<li>Current consumption: without the ruuvitracker plugged in 7mA at 9V DC and 150mA with the RuuviTracker.</li>
<li>Dimensions: 3.79" x 2.1"</li>
<li>Weight: 40g</li>
</ul>
<p>The pictures shows a robot shield interfaced with the Spark RuuviTracker via the Shield Shield.</p>
<h3 id="#pin-mapping" data-href="pin-mapping-Gk6c">Pin mapping<a href="#pin-mapping" class="header-permalinks" data-menu-href="pin-mapping-Gk6c"><i class="ion-link"></i></a></h3><pre><code class="lang-cpp">Arduino | Spark RuuviTracker | Peripherals
0         RX           Serial1 RX
1         TX           Serial1 TX
2         D2
3         D0           PWM
4         D3
5         D1           PWM
6         A7           PWM
7         D4
8         D5
9         D6
10        A2                 SS
11        A5           PWM,  MOSI
12        A4           PWM,  MISO
13        A3                 SCK
A0        A0           PWM*, ADC**
A1        A1           PWM*, ADC**
A2        A6           PWM*, ADC**

*  Note: These pins can also function as 3.3V
         PWM outputs or 3.3V Servo outputs.

** Note: ADC inputs are 3.3V max.
</code></pre>
<p><strong>IMPORTANT</strong>: The Shield Shield does <em>not</em> map the Spark RuuviTracker pins to like-numbered pins on the Arduino. In other words, D0 on the Spark Core is <strong>not</strong> the same as D0 on the Arduino. Please review the pin mapping table to the right and plan accordingly.</p>
<p><a href="https://github.com/spark/shields/tree/master/ruuvitracker-shields/Shield%20Shield">Shield Shield Hardware files &gt;</a></p>
<h2 id="#relay-shield" data-href="relay-shield-JV4G">Relay Shield<a href="#relay-shield" class="header-permalinks" data-menu-href="relay-shield-JV4G"><i class="ion-link"></i></a></h2><p><img src="/assets/images/relay-shield-top.jpg" alt="Relay Shield Top"></p>
<p>The Relay Shield, in combination with the Spark RuuviTracker, allows you to control high power devices over the internet. Want to control a lamp, fan or garden sprinklers? Then this is a solution for you!</p>
<p><strong>IMPORTANT</strong>: This shield provides <strong>regulated power (5v)</strong> to the seated Spark RuuviTracker and relays. However, it does <strong>not</strong> support power to the devices controlled by the relays.</p>
<h3 id="#operation" data-href="operation-SM6E">Operation<a href="#operation" class="header-permalinks" data-menu-href="operation-SM6E"><i class="ion-link"></i></a></h3><p><img src="/assets/images/relay-shield-setup.jpg" alt="Relay Shield Setup"></p>
<p>The schematic for the relay shield is simple and self explanatory. The shield has four relays that are controlled by pins D0, D1, D2 and D3 on the RuuviTracker. Each relay is triggered via a NPN transistor that takes a control signal from the ruuvitracker and switches the relay coil ON and OFF which in turn makes or breaks the electrical contact on the output. There is also a <a href="http://en.wikipedia.org/wiki/Flyback_diode">flyback diode</a> connected across the coil to help protect the transistor from high voltage transients caused during switching.</p>
<p>The relays are SPDT (Single Pole Double Throw) type, which means they have three terminals at the output: COMMON (COMM), Normally Open (NO) and Normally Closed (NC). We can either connect the load in between the COMM and NO or COMM and NC terminals. When connected in between COMM and NO, the output remains open/disconnected when the relay is turned OFF and closes/connects when the relay is turned ON. In the later case, the output remains closed/connected when the relay is OFF and opens/disconnects when the relay is ON.</p>
<h3 id="#specifications" data-href="specifications-dPC0">Specifications<a href="#specifications" class="header-permalinks" data-menu-href="specifications-dPC0"><i class="ion-link"></i></a></h3><ul>
<li>Operating voltage: 7 to 15V DC</li>
<li>Current consumption: 150mA min to 290mA (at 9V DC)</li>
<li>Relay Max Voltage: 250V AC</li>
<li>Relay Max Current: 10Amp at 125V AC</li>
<li>Relay Part Number: JS1-5V-F  <a href="http://www3.panasonic.biz/ac/e_download/control/relay/power/catalog/mech_eng_js.pdf?f_cd=300182">(Data Sheet)</a></li>
<li>Dimensions: 3.5 x 3.3</li>
<li>Weight: 100g</li>
</ul>
<h3 id="#setting-up-the-relay-shield" data-href="setting-up-the-relay-shield-cWiE">Setting up the Relay Shield<a href="#setting-up-the-relay-shield" class="header-permalinks" data-menu-href="setting-up-the-relay-shield-cWiE"><i class="ion-link"></i></a></h3><p><img src="/assets/images/relay-shield-bulb.jpg" alt="Relay Shield Connection"></p>
<p>Turning ON a relay is as simple as setting the associated pin to HIGH.</p>
<p>The picture shows a sample setup where the relay is used as a switch to control a light bulb.</p>
<pre><code class="lang-cpp">int RELAY1 = D0;
int RELAY2 = D1;
int RELAY3 = D2;
int RELAY4 = D3;

void setup()
{
   //Initilize the relay control pins as output
   pinMode(RELAY1, OUTPUT);
   pinMode(RELAY2, OUTPUT);
   pinMode(RELAY3, OUTPUT);
   pinMode(RELAY4, OUTPUT);
   // Initialize all relays to an OFF state
   digitalWrite(RELAY1, LOW);
   digitalWrite(RELAY2, LOW);
   digitalWrite(RELAY3, LOW);
   digitalWrite(RELAY4, LOW);

   //register the Spark function
   Spark.function("relay", relayControl);
}

void loop()
{
   // This loops for ever
}

// command format r1,HIGH
int relayControl(String command)
{
  int relayState = 0;
  // parse the relay number
  int relayNumber = command.charAt(1) - '0';
  // do a sanity check
  if (relayNumber &lt; 1 || relayNumber &gt; 4) return -1;

  // find out the state of the relay
  if (command.substring(3,7) == "HIGH") relayState = 1;
  else if (command.substring(3,6) == "LOW") relayState = 0;
  else return -1;

  // write to the appropriate relay
  digitalWrite(relayNumber-1, relayState);
  return 1;
}
</code></pre>
<hr>
<p>An example API request to this function would look something like this:</p>
<pre><code class="lang-json">POST /v1/devices/{DEVICE_ID}/relay

# EXAMPLE REQUEST
curl https://api.ruuvi.io/v1/devices/0123456789abcdef/relay \
  -d access_token=123412341234 -d params=r1,HIGH
</code></pre>
<p><strong>USE EXTREME CAUTION WHEN DEALING WITH HIGH VOLTAGE !!</strong></p>
<p><a href="https://github.com/spark/shields/tree/master/ruuvitracker-shields/Relay%20Shield">Relay Shield Hardware Files &gt;</a></p>
<!-- TO DO
Project Ideas
------------
- Home Automation
- Sprinklers

**CAUTION** : High voltages! Please use extreme caution when working with high voltages.

``ADD ILLUSTRAION OF FINGERS GETTIND ZAPPED``
-->
<h2 id="#programmer-shield-jtag-" data-href="programmer-shield-jtag--je0r">Programmer Shield (JTAG)<a href="#programmer-shield-jtag-" class="header-permalinks" data-menu-href="programmer-shield-jtag--je0r"><i class="ion-link"></i></a></h2><p><img src="/assets/images/jtag-topview.jpg" alt="JTAG Shield Top"></p>
<p>The programmer shield is a simple adapter that lets you connect a JTAG programmer to the Spark RuuviTracker. If you need complete control over your Core and are comfortable with the ARM development environment, you will need this shield as an interface between the JTAG programmer and the Core.</p>
<h3 id="#specifications" data-href="specifications-xhQP">Specifications<a href="#specifications" class="header-permalinks" data-menu-href="specifications-xhQP"><i class="ion-link"></i></a></h3><ul>
<li>Compatible JTAG programmers : STLink  V2 (the only one tested)</li>
<li>Dimensions: 2.2" x 1.55"</li>
<li>Weight: 20g</li>
</ul>
<h3 id="#setting-up-the-programmer" data-href="setting-up-the-programmer-6eSn">Setting up the programmer<a href="#setting-up-the-programmer" class="header-permalinks" data-menu-href="setting-up-the-programmer-6eSn"><i class="ion-link"></i></a></h3><p><img src="/assets/images/jtag-setup.jpg" alt="JTAG Setup"></p>
<p>If you are using the STLink V2, you can download the supporting drivers and utilities from <a href="http://www.st.com/web/catalog/tools/FM146/CL1984/SC724/SS1677/PF251168">their website.</a></p>
<p>All of the hardware files for the JTAG shield are available for download.</p>
<p><a href="https://github.com/spark/shields/tree/master/ruuvitracker-shields/Programmer%20Shield">JTAG Shield Hardware Files &gt;</a></p>
<h2 id="#battery-shield" data-href="battery-shield-3Cez">Battery Shield<a href="#battery-shield" class="header-permalinks" data-menu-href="battery-shield-3Cez"><i class="ion-link"></i></a></h2><p><img src="/assets/images/bshield-top.jpg" alt="Battery Shield Top"></p>
<p>The battery shield is a LiPo battery charger and voltage regulator combined into one. You can use it to power your RuuviTracker with any 3.7V LiPo battery and charge it at the same time via the USB port.
The shield is built around  Microchip's MCP73871 battery charge management controller and TI's TPS61200 boost converter for up converting 3.7V to 5.0V.</p>
<p><img src="/assets/images/bshield-bottom.jpg" alt="Battery Shield Bottom"></p>
<!--TO DO ADD SYSTEM BLOCK DIAGRAM HERE -->
<h3 id="#operation" data-href="operation-6LKz">Operation<a href="#operation" class="header-permalinks" data-menu-href="operation-6LKz"><i class="ion-link"></i></a></h3><p>MCP73871 is an intelligent battery charge management controller that allows one to charge the battery and power the system simultaneously. There is also an under voltage lock out which protects the battery from draining completely. The TPS61200 converts the 3.7V to 4.1V battery output to a regulated 5V to power the RuuviTracker or potentially any other hardware (cellphones?!)
The charge current to the battery is set to 500mA.</p>
<!--Link to GitHub repo.-->
<h3 id="#specifications" data-href="specifications-fMuh">Specifications<a href="#specifications" class="header-permalinks" data-menu-href="specifications-fMuh"><i class="ion-link"></i></a></h3><ul>
<li>Works with any 3.7V Lithium Polymer battery.</li>
<li>Simultaneously charge the battery and power the ruuvitracker</li>
<li>Dimensions: 2.3 x 0.61</li>
<li>Weight: 20g</li>
<li>Datasheet: <a href="https://github.com/spark/shields/blob/master/ruuvitracker-shields/Battery%20Shield/battery-shield-smallinductor/Datasheets/MCP73871.pdf">MCP73871</a> and <a href="https://github.com/spark/shields/blob/master/ruuvitracker-shields/Battery%20Shield/battery-shield-smallinductor/Datasheets/tps61200.pdf">TPS61200</a></li>
</ul>
<h3 id="#setting-up-the-shield" data-href="setting-up-the-shield-EyzD">Setting up the shield<a href="#setting-up-the-shield" class="header-permalinks" data-menu-href="setting-up-the-shield-EyzD"><i class="ion-link"></i></a></h3><p><img src="/assets/images/bshield-charging.jpg" alt="Battery Shield Charging"></p>
<p>In order to just charge the battery, simply plug the battery into the JST connector (<strong>CAUTION: Remember to check the polarity of the battery header!!</strong>) and a USB cable into the microB socket as shown in the picture.</p>
<p>You will see the BLUE power LED light up on the shield and either the YELLOW (indicating charging in progress) or GREEN (indicating charging complete) LED light up.</p>
<p><img src="/assets/images/bshield-charging-powering.jpg" alt="Battery Shield Charging and Powering"></p>
<p>To summarize the LED functions:</p>
<ul>
<li>Blue LED: Power indicator for the USB cable. Lights up only when the USB cable is plugged in.</li>
<li>Yellow LED: Charging in progress indicator. Is ON when the battery is charging. Turns OFF when charging complete.</li>
<li>Green LED: Charge Complete Indicator. This LED lights up when the battery is completely charged.</li>
</ul>
<p>You could also power the Spark RuuviTracker while the battery is charging but remember that the charging might be slower as the current will be distributed in between the Core and the battery.</p>
<p><img src="/assets/images/bshield-powering.jpg" alt="Battery Shield Powering"></p>
<p>When powering the RuuviTracker via the battery alone, the blue LED will NOT light up.</p>
<p><strong>TIP:</strong> Remember to unplug the battery from the shield when not in use. If you leave the battery connected to the battery shield, it will eventually drain it.</p>
<!--`` ADD PICTURE OF THE PS JUMPER ``-->
<!--` ADD PICTURE OF A PHONE BEING CHARGED ``-->
<p><strong>CAUTION:</strong> Check the battery polarity and its voltage rating</p>
<p><a href="https://github.com/spark/shields/tree/master/ruuvitracker-shields/Battery%20Shield">Battery Shield Hardware Files &gt;</a></p>
<h2 id="#spark-maker-kit" data-href="spark-maker-kit-PalI">Spark Maker Kit<a href="#spark-maker-kit" class="header-permalinks" data-menu-href="spark-maker-kit-PalI"><i class="ion-link"></i></a></h2><!--
   TO DO
   - add short description
   - add pictures of all the components laid out and number them
-->
<h3 id="#1-ceramic-capacitors-10-each-" data-href="1-ceramic-capacitors-10-each--uN8q">1. Ceramic Capacitors (10 each)<a href="#1-ceramic-capacitors-10-each-" class="header-permalinks" data-menu-href="1-ceramic-capacitors-10-each--uN8q"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-ceramic-capacitor-10nF.jpg" alt="Ceramic Capacitors"></p>
<p>These are standard <a href="http://en.wikipedia.org/wiki/Ceramic_capacitor">ceramic capacitors.</a> They are widely used in analog circuits as bypass/ decoupling capacitors, in timers, filters, etc. The kit comes with:</p>
<ul>
<li>10nF (0.01uF) - Number code: 103</li>
<li>100nF (0.1uF) - Number code: 104</li>
</ul>
<p><em>Note:</em> These are non-polar capacitors which means they can be oriented both ways.</p>
<!-- TO Do Capacitor number codes -->
<h3 id="#2-electrolytic-capacitor-100uf-5-" data-href="2-electrolytic-capacitor-100uf-5--DTZv">2. Electrolytic Capacitor 100uF (5)<a href="#2-electrolytic-capacitor-100uf-5-" class="header-permalinks" data-menu-href="2-electrolytic-capacitor-100uf-5--DTZv"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-electrolytic-capacitor.jpg" alt="Electrolytic Capacitors"></p>
<p><a href="http://en.wikipedia.org/wiki/Electrolytic_capacitor">Electrolytic capacitors</a> offer larger values and are polar. These capacitors are ideal for decoupling power supplies, as transient suppressors, and in timing circuits.</p>
<p><em>Note:</em> These are polar capacitors. The longer lead denotes positive while the shorter one denotes negative. These are also know to "pop" when subjected to voltages higher than their ratings.</p>
<!-- TO DO ADD VOLTAGE VALUE-->
<h3 id="#3-headers" data-href="3-headers-GIHV">3. Headers<a href="#3-headers" class="header-permalinks" data-menu-href="3-headers-GIHV"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-header-male.jpg" alt="Headers"></p>
<p>These are standard 0.1" pitch headers that can be cut to size. Very handy when building circuits on breadboard or PCBs alike.</p>
<ul>
<li>8-Pin Female Headers (5)</li>
<li>40-Pin Male Breakaway Headers (2)</li>
<li>40-Pin Male Breakaway Dual-Headers (1)</li>
</ul>
<h3 id="#4-leds" data-href="4-leds-Chci">4. LEDs<a href="#4-leds" class="header-permalinks" data-menu-href="4-leds-Chci"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-led-3mm.jpg" alt="LEDs"></p>
<p>These are general purpose 3mm LEDs. You can never have enough of them! Use a resistor in series when hooking them up to the Spark RuuviTracker. ( 220 ohms to 1K ohms)</p>
<ul>
<li>Red (5)</li>
<li>Green (5)</li>
</ul>
<p><em>Note:</em> The longer lead is positive (anode) while the shorter one is negative (cathode).</p>
<h3 id="#5-rgb-led-1-" data-href="5-rgb-led-1--5ebx">5. RGB LED (1)<a href="#5-rgb-led-1-" class="header-permalinks" data-menu-href="5-rgb-led-1--5ebx"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-rgb-led.jpg" alt="RGB LED"></p>
<p>So, Red and Green aren't enough for you? Want to make bazzillion different colors? Then this RGB LED will do it for ya. You can mix colors by connecting each pin to an analogWrite compatible pin on the RuuviTracker and feed them different values. Let the disco party begin!</p>
<p>This LED has four pins, one for each color and a common anode (+) pin.</p>
<p><a href="/assets/datasheets/makerkit/rgb-led.pdf">Datasheet &gt;</a></p>
<!-- TO DO pin diagram-->
<h3 id="#6-npn-transistor-1-" data-href="6-npn-transistor-1--d7A7">6. NPN Transistor (1)<a href="#6-npn-transistor-1-" class="header-permalinks" data-menu-href="6-npn-transistor-1--d7A7"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-npn-transistor.jpg" alt="NPN Transistor"></p>
<p>S9013 is a general purpose small signal NPN <a href="http://en.wikipedia.org/wiki/Transistor">transistor</a> rated at 40V, 500mA.</p>
<p>You can use this transistor to switch small loads like relays, mini motors, buzzers, etc.</p>
<p><a href="https://www.fairchildsemi.com/datasheets/SS/SS9013.pdf">Datasheet &gt;</a></p>
<h3 id="#7-diode-6-" data-href="7-diode-6--46sO">7. Diode (6)<a href="#7-diode-6-" class="header-permalinks" data-menu-href="7-diode-6--46sO"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-diode.jpg" alt="Diode"></p>
<p><a href="http://en.wikipedia.org/wiki/1N4004">1N4004</a> is a general purpose diode rated at 400V, 1000mA with a forward voltage drop of 1.1V. Excellent as a <a href="http://en.wikipedia.org/wiki/Flyback_diode">fly-back diode</a> or as a general rectifying diode.</p>
<p><a href="http://www.diodes.com/_files/datasheets/ds28002.pdf">Datasheet &gt;</a></p>
<h3 id="#8-micro-servo-1-" data-href="8-micro-servo-1--cINt">8. Micro Servo (1)<a href="#8-micro-servo-1-" class="header-permalinks" data-menu-href="8-micro-servo-1--cINt"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-micro-rc-servo.jpg" alt="RC Servo"></p>
<p>Emax ES08A is a mini RC servo motor.</p>
<ul>
<li>Operating Voltage: 4.8 to 6.0VDC</li>
<li>Stall Torque: 1.8Kg/cm</li>
<li>Speed: 0.10sec/degree at no load</li>
</ul>
<p><a href="http://www.emaxmodel.com/es08a-ii.html">Datasheet &gt;</a></p>
<p>Wiring:</p>
<ul>
<li>Yellow - Signal (D0, D1, A0, A1, A4, A5, A6, A7)</li>
<li>Orange - +5V (VIN)</li>
<li>Brown  - Ground (GND)</li>
</ul>
<p>Note: The Ground pin may vary as Brown or Black, +5V pin may vary as Orange or Red and Signal pin may vary as Yellow or White and sometimes Orange if there is already a Red and Black wire.</p>
<h3 id="#9-deluxe-jumper-wire-pack-1-" data-href="9-deluxe-jumper-wire-pack-1--Fdrz">9. Deluxe Jumper Wire Pack (1)<a href="#9-deluxe-jumper-wire-pack-1-" class="header-permalinks" data-menu-href="9-deluxe-jumper-wire-pack-1--Fdrz"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-jumper-cables.jpg" alt="Jumper Cables"></p>
<p>Multi-colored and stripped. You can never have enough of these either.</p>
<h3 id="#10-usb-micro-b-cable-1-" data-href="10-usb-micro-b-cable-1--tzPQ">10. USB Micro B Cable (1)<a href="#10-usb-micro-b-cable-1-" class="header-permalinks" data-menu-href="10-usb-micro-b-cable-1--tzPQ"><i class="ion-link"></i></a></h3><p>A custom Spark USB cable for you RuuviTracker! We were really excited to have our logo printed on them.</p>
<h3 id="#11-mini-dc-motor-1-" data-href="11-mini-dc-motor-1--EQkh">11. Mini DC Motor (1)<a href="#11-mini-dc-motor-1-" class="header-permalinks" data-menu-href="11-mini-dc-motor-1--EQkh"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-mini-dc-motor.jpg" alt="DC Motor"></p>
<p>This is a simple DC motor that you can switch using the NPN transistor provided in the kit.</p>
<p><a href="/assets/datasheets/makerkit/mini-dc-motor.pdf">Datasheet &gt;</a></p>
<!-- TO DO
   - add motor specs
   - add illustration
 -->
<h3 id="#12-vibration-motor-1-" data-href="12-vibration-motor-1--pzy0">12. Vibration Motor (1)<a href="#12-vibration-motor-1-" class="header-permalinks" data-menu-href="12-vibration-motor-1--pzy0"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-vibration-motor.jpg" alt="Vibration Motor"></p>
<p>Wanna give your next Spark RuuviTracker project a tactile feedback? This vibration motor serves the purpose nicely. Use the NPN transistor to switch it.</p>
<p><a href="/assets/datasheets/makerkit/vibration-motor.pdf">Datasheet &gt;</a></p>
<!-- TO DO
   - add motor specs
   - add illustration
 -->
<h3 id="#13-piezo-buzzer-1-" data-href="13-piezo-buzzer-1--h9kQ">13. Piezo Buzzer (1)<a href="#13-piezo-buzzer-1-" class="header-permalinks" data-menu-href="13-piezo-buzzer-1--h9kQ"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-buzzer.jpg" alt="Buzzer"></p>
<p>Add an audible feedback to your project with this buzzer. The longer lead is positive and the shorter is negative. You will need a transistor to drive it.</p>
<p><em>Note:</em> The sound gets annoying after a while. Use it sparingly!</p>
<ul>
<li>Operating Voltage: 4.0 to 7.0 V DC</li>
<li>Oscillation Frequency: 2.3KHz</li>
<li>Current: 30mA</li>
<li>Sound Pressure: 85dB</li>
</ul>
<p><a href="/assets/datasheets/makerkit/buzzer.pdf">Datasheet &gt;</a></p>
<h3 id="#14-mini-pushbuttons-3-" data-href="14-mini-pushbuttons-3--O0AI">14. Mini Pushbuttons (3)<a href="#14-mini-pushbuttons-3-" class="header-permalinks" data-menu-href="14-mini-pushbuttons-3--O0AI"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-mini-pushbutton.jpg" alt="Push Buttons"></p>
<p>These are nifty little switches that plug nicely into a breadboard or a proto-board. They are normally-open type and are rated at 12V, 50mA.</p>
<h3 id="#15-dpdt-switch-2-" data-href="15-dpdt-switch-2--5Lbr">15. DPDT Switch (2)<a href="#15-dpdt-switch-2-" class="header-permalinks" data-menu-href="15-dpdt-switch-2--5Lbr"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-dpdt-switch.jpg" alt="DPDT Switch"></p>
<p>This is a tiny Double Pole Double Throw (DPDT) Switch with 6 legs.</p>
<h3 id="#16-shift-register-ic-1-" data-href="16-shift-register-ic-1--ZhRU">16. Shift Register IC (1)<a href="#16-shift-register-ic-1-" class="header-permalinks" data-menu-href="16-shift-register-ic-1--ZhRU"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-shift-register.jpg" alt="Shift Register"></p>
<p>74HC595 is an 8 bit serial-in parallel-out shift register commonly used as an output expander. You can drive of up to 8 outputs from only 3 lines (using one chip). You could potentially daisy chain multiple of these to get even more outputs.</p>
<p><a href="http://www.nxp.com/documents/data_sheet/74HC_HCT595.pdf">Datasheet &gt;</a></p>
<!-- TO DO ADD EXAMPLES AND LINKS-->
<h3 id="#17-tilt-sensor-2-" data-href="17-tilt-sensor-2--iykT">17. Tilt Sensor (2)<a href="#17-tilt-sensor-2-" class="header-permalinks" data-menu-href="17-tilt-sensor-2--iykT"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-tilt-sensor.jpg" alt="Tilt Sensor"></p>
<p>SW-200D is a tiny tilt sensor that when tilted to more than 30 degrees will internally connects its two terminals together. The magic happens with the use of gravity and a tiny metal ball.</p>
<p>You can use to it detect tilt, orientation or vibrations.</p>
<p><a href="/assets/datasheets/makerkit/tilt-sensor.pdf">Datasheet &gt;</a></p>
<h3 id="#18-temperature-sensor-1-" data-href="18-temperature-sensor-1--KnmL">18. Temperature Sensor (1)<a href="#18-temperature-sensor-1-" class="header-permalinks" data-menu-href="18-temperature-sensor-1--KnmL"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-temp-sensor.jpg" alt="Temp Sensor"></p>
<p>The TMP36 is a low voltage, precision centigrade temperature sensor. It provides a voltage output that is linearly proportional to the Celsius (centigrade) temperature. The TMP36 does not require any external calibration to provide typical accuracies of ±1°C at +25°C and ±2°C over the −40°C to +125°C temperature range.</p>
<p><a href="/ruuvitracker/examples/#measuring-the-temperature">Here is an example</a> of how you could use it the RuuviTracker.</p>
<p><a href="http://www.analog.com/static/imported-files/data_sheets/TMP35_36_37.pdf">Datasheet &gt;</a></p>
<!-- TO DO ADD LINK TO EXAMPLE-->
<h3 id="#19-thermistor-2-" data-href="19-thermistor-2--7QhM">19. Thermistor (2)<a href="#19-thermistor-2-" class="header-permalinks" data-menu-href="19-thermistor-2--7QhM"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-thermistor.jpg" alt="Thermistor"></p>
<p>A <a href="http://en.wikipedia.org/wiki/Thermistor">thermistor</a> is a temperature dependent resistor. This one is a NTC type (Negative Temperature Coefficient), which means its resistance decreases with an increase in temperature.</p>
<p>Unlike the TMP36, you will need to use this as a part of a voltage divider circuit as nicely described in this <a href="https://learn.adafruit.com/thermistor/using-a-thermistor">tutorial.</a></p>
<p><a href="/assets/datasheets/makerkit/thermistor.pdf">Datasheet &gt;</a></p>
<h3 id="#20-force-sensitive-resistor-1-" data-href="20-force-sensitive-resistor-1--FgvN">20. Force-Sensitive Resistor (1)<a href="#20-force-sensitive-resistor-1-" class="header-permalinks" data-menu-href="20-force-sensitive-resistor-1--FgvN"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-force-sensor.jpg" alt="Force Sensor"></p>
<p>Manufacturer Part Number: Interlink 30-81794
This is a force sensitive resistor with a 0.5" diameter and an operating force from 10g to 1000g. Their resistance decreases with an increase in applied pressure.</p>
<p><a href="http://media.digikey.com/pdf/Data%20Sheets/Interlink%20Electronics.PDF/FSR400_Series.pdf">Datasheet &gt;</a></p>
<!-- TO DO ADD LINK TO EXAMPLE-->
<h3 id="#21-photo-resistors-2-" data-href="21-photo-resistors-2--QPCn">21. Photo Resistors (2)<a href="#21-photo-resistors-2-" class="header-permalinks" data-menu-href="21-photo-resistors-2--QPCn"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-ldr.jpg" alt="LDR"></p>
<p>A photo resistor is a light dependent resistor whose resistance decreases with the increase in the intensity of light striking it. You can use it to detect the ambient light in the surrounding, detect shadows or use it as a part of a burglar alarm system.</p>
<p><a href="/assets/datasheets/makerkit/photoresistor.pdf">Datasheet &gt;</a>
<!-- TO DO ADD LINK TO EXAMPLE--></p>
<h3 id="#22-resistors" data-href="22-resistors-KPnk">22. Resistors<a href="#22-resistors" class="header-permalinks" data-menu-href="22-resistors-KPnk"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-1k-resistor.jpg" alt="Resistors"></p>
<p>There are three different value resistor in this kit. All of them are rated at 5%, 1/4 Watt.</p>
<ul>
<li>330-Ohm (10)</li>
<li>1K-Ohm (10)</li>
<li>10K-Ohm (10)</li>
</ul>
<p>You can use this <a href="http://www.digikey.com/en/resources/conversion-calculators/conversion-calculator-resistor-color-code-4-band">online guide</a> to help identify which resistor is which value.</p>
<h3 id="#23-rotary-potentiometer-1-" data-href="23-rotary-potentiometer-1--EmqJ">23. Rotary Potentiometer (1)<a href="#23-rotary-potentiometer-1-" class="header-permalinks" data-menu-href="23-rotary-potentiometer-1--EmqJ"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-potentiometer.jpg" alt="Pot"></p>
<p>This is a <a href="http://en.wikipedia.org/wiki/Potentiometer">variable resistor</a> whose value can be changed by simply turning the knob.</p>
<h3 id="#24-proto-board-1-" data-href="24-proto-board-1--OIti">24. Proto-board (1)<a href="#24-proto-board-1-" class="header-permalinks" data-menu-href="24-proto-board-1--OIti"><i class="ion-link"></i></a></h3><p><img src="/assets/images/mk-pcb.jpg" alt="PCB"></p>
<p>This is a 7" x 9" general purpose dot-matrix prototyping PCB.
<!-- TO DO ADD LINK TO EXAMPLE--></p>
<h3 id="#25-spark-ruuvitracker-u-fl-or-ca-1-" data-href="25-spark-ruuvitracker-u-fl-or-ca-1--FOXq">25. Spark RuuviTracker - u.FL or CA (1)<a href="#25-spark-ruuvitracker-u-fl-or-ca-1-" class="header-permalinks" data-menu-href="25-spark-ruuvitracker-u-fl-or-ca-1--FOXq"><i class="ion-link"></i></a></h3><p>Your very own Spark RuuviTracker, ready to take over the world, one byte at a time.</p>
<!--
1. Ceramic Capacitor - 10nF (10)
2. Ceramic Capacitors 100nF (10)
3. Electrolytic Capacitors 100uF (5)
4. 8-Pin Female Headers (5)
5. 40-Pin Male Breakaway Headers (2)
6. 40-Pin Male Breakaway Dual-Headers (1)
7. Basic LED - Red (5)
8. Basic LED - Green (5)
9. RGB LEDs (1)
10. NPN Transistor (1)
11. Diode (6)
12. Micro Servo (1)
13. Deluxe Jumper Wire Pack (1)
14. USB Micro B Cable (1)
15. Mini DC Motor (1)
16. Vibration Motor (1)
17. Piezo Buzzer (1)
18. Mini Pushbuttons (3)
19. Shift Register IC (1)
20. DPDT Switch (2)
21. Tilt Sensor (2)
22. Temperature Sensor (1)
24. Proto-board (1)
25. Force-Sensitive Resistor (1)
26. Photo Resistors (2)
27. Thermistor (2)
28. Resistor 330-Ohm (10)
29. Resistor 1K-Ohm (10)
30. Resistor 10K-Ohm (10)
31. 10K Rotary Potentiometer (1)
32. Spark RuuviTracker - u.FL or CA (1)
-->
<h2 id="#spark-rc-car-kit" data-href="spark-rc-car-kit-V9tm">Spark RC Car Kit<a href="#spark-rc-car-kit" class="header-permalinks" data-menu-href="spark-rc-car-kit-V9tm"><i class="ion-link"></i></a></h2><p><img src="/assets/images/rc-car-top-small.jpg" alt="Top View"></p>
<p>The RC car kit is a two-wheeled differentially driven platform that you can control using a Spark RuuviTracker.</p>
<h3 id="#kit-contents" data-href="kit-contents-O8Yz">Kit Contents<a href="#kit-contents" class="header-permalinks" data-menu-href="kit-contents-O8Yz"><i class="ion-link"></i></a></h3><p>NOTE: This is no longer available for purchase through Spark, however, if you still want to build this, check out the links to the individual components below.</p>
<ul>
<li>RC Car Chassis kit (<a href="http://www.dfrobot.com/index.php?route=product/product&amp;path=37_111&amp;product_id=65">buy from DFRobot</a>)</li>
<li>Motor Driver Shield (<a href="http://www.dfrobot.com/index.php?route=product/product&amp;product_id=69">buy from DFRobot</a>)</li>
<li>Battery (NiCad, Alkaline, LiPo, Li Ion : 6V to 12V DC) (<a href="http://www.dfrobot.com/index.php?route=product/product&amp;filter_name=battery&amp;product_id=489">buy from DFRobot</a>)</li>
<li>Spark Shield Shield (<a href="https://store.ruuvi.io/?product=shield-shield">buy from Spark</a>)</li>
<li>Spark RuuviTracker (<a href="https://store.ruuvi.io/?product=spark-ruuvitracker">buy from Spark</a>)</li>
</ul>
<p>Assemble the RC Car chassis as shown in the <a href="http://www.dfrobot.com/wiki/index.php/3PA_Assembly_Guide_%28SKU:ROB0005%29">tutorial here.</a> (Without the electronics)</p>
<!--
Put together the Shield Shield and the Motor Driver Shield as shown in the picture.
The Motor Driver shield is setup in the PWM mode as shown in the picture.
-->
<!-- TO DO - Add picture of the motor shield setup -->
<ul>
<li>Pin 4: Connects with M1</li>
<li>Pin 5: Connects with E1 (PWM)</li>
<li>Pin 6: Connects with E2 (PWM)</li>
<li>Pin 7: Connects with M2</li>
</ul>
<p>Where E1 and E2 control the speed of the motors, while M1 and M2 change the direction.</p>
<p><img src="/assets/images/rc-car-jumpers-small.jpg" alt="Jumper Settings"></p>
<p>Connect the left and right motor terminals to M2+,M2-,M1+ and M1- respectively.</p>
<p><img src="/assets/images/rc-car-motor-conn-small.jpg" alt="Motor Connections"></p>
<p>The motors can run from a voltage in the range of 5V to 9V DC. The jumpers can be set to get power from Vin from the Shield below.</p>
<p><img src="/assets/images/rc-car-power-small.jpg" alt="Power Selection"></p>
<h3 id="#example-code" data-href="example-code-aUNM">Example code<a href="#example-code" class="header-permalinks" data-menu-href="example-code-aUNM"><i class="ion-link"></i></a></h3><p>A simple example for controlling the RC Car is as described:</p>
<pre><code class="lang-C++">int leftMotorEnable   = D1;
int rightMotorEnable  = A7;
int leftMotorDir    = D3;
int rightMotorDir   = D4;

void setup()
{
  //Register Spark function
  Spark.function("rccar", rcCarControl);

  pinMode(leftMotorDir, OUTPUT);
  pinMode(leftMotorEnable, OUTPUT);
  pinMode(rightMotorDir, OUTPUT);
  pinMode(rightMotorEnable, OUTPUT);

  pinMode(D7,OUTPUT);
}

void loop()
{
  // Nothing to do here
}

/*******************************************************************************
 * Function Name  : rcCarControl
 * Description    : Parses the incoming API commands and sets the motor control
          pins accordingly
 * Input          : RC Car commands
          e.g.: rc,FORWARD
            rc,BACK
 * Output         : Motor signals
 * Return         : 1 on success and -1 on fail
 *******************************************************************************/
int rcCarControl(String command)
{
  if(command.substring(3,7) == "STOP")
  {
    digitalWrite(leftMotorEnable,LOW);
    digitalWrite(rightMotorEnable,LOW);

    digitalWrite(leftMotorDir,LOW);
    digitalWrite(rightMotorDir,LOW);

    return 1;
  }

  if(command.substring(3,7) == "BACK")
  {
    digitalWrite(leftMotorDir,LOW);
    digitalWrite(rightMotorDir,HIGH);

    digitalWrite(leftMotorEnable,HIGH);
    digitalWrite(rightMotorEnable,HIGH);

    return 1;
  }

  if(command.substring(3,10) == "FORWARD")
  {
    digitalWrite(leftMotorDir,HIGH);
    digitalWrite(rightMotorDir,LOW);

    digitalWrite(leftMotorEnable,HIGH);
    digitalWrite(rightMotorEnable,HIGH);

    return 1;
  }

  if(command.substring(3,8) == "RIGHT")
  {
    digitalWrite(leftMotorDir,HIGH);
    digitalWrite(rightMotorDir,HIGH);

    digitalWrite(leftMotorEnable,HIGH);
    digitalWrite(rightMotorEnable,HIGH);

    return 1;
  }

  if(command.substring(3,7) == "LEFT")
  {
    digitalWrite(leftMotorDir,LOW);
    digitalWrite(rightMotorDir,LOW);

    digitalWrite(leftMotorEnable,HIGH);
    digitalWrite(rightMotorEnable,HIGH);

    return 1;
  }

  // If none of the commands were executed, return false
  return -1;
}
</code></pre>
<hr>
<p>To send API commands:</p>
<pre><code class="lang-json"># Sending command to go forward
curl https://api.ruuvi.io/v1/devices/0123456789abcdef/rccar -d access_token=123412341234 -d params=rc,FORWARD
</code></pre>
<h3 id="#motor-driver-shield-specifications" data-href="motor-driver-shield-specifications-1uX1">Motor Driver Shield Specifications<a href="#motor-driver-shield-specifications" class="header-permalinks" data-menu-href="motor-driver-shield-specifications-1uX1"><i class="ion-link"></i></a></h3><p>The motor driver shield is based around the L298 <a href="http://en.wikipedia.org/wiki/H_bridge">Full-bridge</a> motor driver chip.</p>
<ul>
<li>Logic voltage: 5V DC</li>
<li>Logic Supply Current: 36mA</li>
<li>Motor drive voltage: 7V to 12V DC</li>
<li>Motor drive current: 2Amp Max</li>
</ul>
<!--
Plug in the Spark RuuviTracker.

Now plug in the battery.

Example user code.

Project ideas.
-->
<h3 id="#datasheets" data-href="datasheets-OOEb">Datasheets<a href="#datasheets" class="header-permalinks" data-menu-href="datasheets-OOEb"><i class="ion-link"></i></a></h3><ul>
<li><a href="http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00000240.pdf">L298 datasheet &gt;</a></li>
<li><a href="http://www.dfrobot.com/wiki/index.php?title=Arduino_Motor_Shield_%28L298N%29_%28SKU:DRI0009%29">Motor Driver Shield Manual &gt;</a></li>
</ul>

          </div>
        </div>
      </div>
    </div>
    <!-- SEGMENT -->
    <!-- Let me embed vines -->
    <script async src="https://platform.vine.co/static/scripts/embed.js" charset="utf-8"></script>
    
    <!-- jQuery -->
    <script src="/assets/js/jquery-1.11.1.min.js"></script>
    
    <!-- Vendor theme mods -->
    <script src='/assets/js/jquery-styling.js'></script>
    <script src='/assets/js/bootstrap-dropdown.js'></script>
    <script src='/assets/js/prettify.js'></script>
    <script src='/assets/js/jquery.waypoints.js'></script>
    <script src='/assets/js/jquery.waypoints.inview.js'></script>
    <!-- Custom -->
    <script type="text/javascript" src="/assets/js/lunr.min.js"></script>
    <script type="text/javascript" src="/assets/js/handlebars-runtime.js"></script>
    <script type="text/javascript" src="/assets/js/precompiled.js"></script>
    <script src='/assets/js/docs.js'></script>
    <script src='/assets/js/animated-ruuvitracker.js'></script>
    
    <!-- Live Reload -->
    <script src="http://localhost:35729/livereload.js"></script>
</body>
</html>
